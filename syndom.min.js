/*jslint browser: true, ass: true, nomen: true */

/**
 * Synlight DOM module
 *
 * @version 0.0.1
 * @licence Apache Licence 2.0
 * @author  Martin Helmut Fieber <info@martin-fieber.de>
 * 
 * @param {Object} window
 * @param {Object} document
 */
window.$=function(k,l){function e(a,c){var b;if(a&&a.nodeName||a===k)c(a);else if(a&&a instanceof Array)for(b=a.length-1;0<=b;b-=1)e(a[b],c);else if(a&&a.length)for(b=a.length-1;0<=b;b-=1)c(a[b])}function g(a,c){var b;a=Array.isArray(a)?a:[a];for(b=a.length-1;0<=b;b-=1)c(a[b])}var f=function(){var a=[];return function(c,b){var m={"#":"ById",".":"sByClassName","@":"sByName"}[c[0]],d;b=b||l;for(d=a.length-1;0<=d;d-=1)if(a[d].s===c&&a[d].c===b)return a[d].e;return a[a.push({c:b,s:c,e:b["getElement"+
(m||"sByTagName")](m?c.slice(1):c)})-1].e}}(),q=function(){return l.addEventListener?function(a,c,b){g(c,function(c){e(a,function(a){a.addEventListener(c,b,!1)})})}:function(a,c,b){g(c,function(c){e(a,function(a){a.attachEvent("on"+c,function(){return b.call(a,k.event)})})})}}(),h=function(a,c){return!(!a.className||!a.className.match(RegExp("(?:\\s|^)"+c+"(?:\\s|$)")))},n=function(a,c){g(c,function(b){e(a,function(a){h(a,b)||(a.className=(a.className+=" "+b).trim())})})},p=function(a,c){g(c,function(b){var c=
RegExp("(?:\\s|^)"+b+"(?:\\s|$)");e(a,function(a){a.className=(a.className&&a.className.replace(c," ")).trim()})})};f.on=q;f.hasClass=h;f.addClass=n;f.removeClass=p;f.toggleClass=function(a,c){g(c,function(b){e(a,function(a){h(a,b)?p(a,b):n(a,b)})})};return f}(window,document);